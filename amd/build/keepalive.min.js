define ("local_session_keepalive/keepalive",["jquery","core/config","core/log"],function(a,b,c){"use strict";var g=null,h=null,i=!1;function d(){a.ajax({url:b.wwwroot+"/local/session_keepalive/sessionkeepalive_ajax.php",dataType:"json",type:"POST",data:{sesskey:b.sesskey,time:a.now()},headers:{"Cache-Control":"no-cache",Expires:"-1"},error:function error(a){if(403==a.status){clearInterval(g)}else if(300<=a.status&&399>=a.status){c.debug("moodle-local_session_keepalive-keepalive: A cached copy of the keepalive answer was returned so it's reliablity cannot be guaranteed")}}})}function e(){if(!0===i){d()}}function f(){i=!0;h.off("change keyup keydown",f)}return{init:function init(b){if(null!==b.keepaliveinterval&&0<b.keepaliveinterval){h=a("#region-main input, #region-main textarea, #region-main select");if(0<h.length){h.on("change keyup keydown",f);g=setInterval(e,60*(1e3*b.keepaliveinterval))}}}}});
//# sourceMappingURL=keepalive.min.js.map
